---
layout: post
comments: true
author: Harrison Jung
title: "Google Cloud Storage 와 AWS S3 실시간 동기화 하기"
description: "Google Cloud Storage 에 올린 파일을 실시간으로 AWS S3로 전송하기"
category: tip
date: 2017-04-26 11:45:00
tags: [aws,gcp,iam,google cloud storage,aws s3,google cloud function]
ogimage: "/assets/post/cloud/20170513_gcsawss3.jpg"
---

이번 포스팅의 목표는 다음과 같습니다.

목표 : GCS와 S3를 실시간으로 동기화 하기
=============
GCS에 파일을 업로드하면 자동으로 S3로 해당파일을 복제하고, 반대로 GCS에서 파일을 삭제하면 S3에도 해당 파일을 삭제한다.


방법 : Google Cloud Functions을 이용하여 Bucket이벤트를 캡쳐 하여 AWS S3로 보낸다.
=============
Google Cloud Functions( 이하 GCF )를 이용하여 실시간 동기화를 합니다. 방법은 다음과 같습니다.

GCF를 만들어서 이벤트 트리거를 걸어놓습니다. 이벤트는 GCS Bucket에 파일이 올라오면 발생하도록 합니다. 이벤트 발생시 해당 파일을 GCF는 다운로드 받아서 S3로 전송합니다.
삭제 이벤트가 발생시에는 S3에서 삭제합니다.

그전에 GCS Bucket과 S3 Bucket은 이미 생성해 두었다고 가정하겠습니다.

# 1. GCS ( Google Cloud )에서 Bucket 생성





# S3 생성하기

# 1. AWS IAM 에서 S3 권한 생성하기
